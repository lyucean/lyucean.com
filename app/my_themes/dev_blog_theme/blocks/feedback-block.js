jQuery(document).ready(function ($) {
    const postId = $('#postIdHidden').val();
    let selectedFeedbackType = '';

    // –§—Ä–∞–∑—ã –¥–ª—è "–î–∞", "–ù–µ—Ç" –∏ "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"
    const yesMessages = [
        "–û, –∂–∏–≤–æ–π —á–µ–ª–æ–≤–µ–∫! –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –Ω–µ –±–æ—Ç! ü§ñ",
        "–¢–≤–æ–π –∫–ª–∏–∫ –ø–æ–≤—ã—Å–∏–ª –º–æ—é —Å–µ–ª—Ñ-—ç—Å—Ç–∏–º –Ω–∞ 0.00001%. –ü—Ä–æ–¥–æ–ª–∂–∞–π! üìà",
        "–°–ø–∞—Å–∏–±–æ! –¢–µ–ø–µ—Ä—å —è –∑–Ω–∞—é, —á—Ç–æ –ø–∏—à—É –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Ä–æ–±–æ—Ç–æ–≤! üï∑Ô∏è",
        "–ï—â—ë –æ–¥–∏–Ω –ø–ª—é—Å–∏–∫ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É! –°–∫–æ—Ä–æ —Å–æ–±–µ—Ä—É –≤—Å–µ –ª–∞–π–∫–∏ –º–∏—Ä–∞! üéØ",
        "–û–∫–µ–π, –æ—Ç–º–µ—Ç–∫–∞ '–ø–æ–ª–µ–∑–Ω–æ' –ø–æ–ª—É—á–µ–Ω–∞. –ò–¥—É –ø–∏—Ç—å –∫–æ—Ñ–µ —Å —á—É–≤—Å—Ç–≤–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –¥–æ–ª–≥–∞! ‚òï",
        "–°–ø–∞—Å–∏–±–æ! –ú–æ—è –º–∞–º–∞ —Å–∫–∞–∑–∞–ª–∞, —á—Ç–æ —è –º–æ–ª–æ–¥–µ—Ü, –∫–æ–≥–¥–∞ –ø—Ä–æ—á–∏—Ç–∞–µ—Ç —ç—Ç—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É! üë©",
        "–¢–≤–æ—ë –º–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∞–Ω–æ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –°–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è –≤ –æ—Ç—á—ë—Ç–µ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤! üìä",
        "–ï—â—ë –æ–¥–∏–Ω –¥–æ–≤–æ–ª—å–Ω—ã–π —á–∏—Ç–∞—Ç–µ–ª—å ‚Äî –µ—â—ë –æ–¥–∏–Ω —à–∞–≥ –∫ –º–∏—Ä–æ–≤–æ–º—É –≥–æ—Å–ø–æ–¥—Å—Ç–≤—É! üåç",
        "–°–ø–∞—Å–∏–±–æ! –¢–µ–ø–µ—Ä—å —É –º–µ–Ω—è –µ—Å—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ, —á—Ç–æ —Å—Ç–∞—Ç—å–∏ —á–∏—Ç–∞—é—Ç –∂–∏–≤—ã–µ –ª—é–¥–∏! üë§",
        "–û, —Ç–∞–∫ —Ç—ã —á–∏—Ç–∞–µ—à—å –º–æ–∏ —Ç–µ–∫—Å—Ç—ã? –ó–Ω–∞—á–∏—Ç, —è –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–∏—à—É –≤ –ø—É—Å—Ç–æ—Ç—É! ‚úçÔ∏è",
        "–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ! –ï—â—ë –æ–¥–∏–Ω –ø–ª—é—Å–∏–∫ –≤ –º–æ—ë–º —Ä–µ–∑—é–º–µ '–∞–≤—Ç–æ—Ä –ø–æ–ª–µ–∑–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞'! üìÑ",
        "–°–ø–∞—Å–∏–±–æ! –¢–µ–ø–µ—Ä—å —É –º–µ–Ω—è –µ—Å—Ç—å –º–µ—Ç—Ä–∏–∫–∞ –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π! üìä",
        "–¢–≤–æ–π –∞–ø—Ä—É–≤ –ø–æ–≤—ã—à–∞–µ—Ç –º–æ—é —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å. –°–∫–æ—Ä–æ –Ω–∞–ø–∏—à—É –∫–Ω–∏–≥—É! üìö",
        "–û–∫–µ–π, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª. –¢–≤–æ—ë –º–Ω–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —á–∞—Å—Ç—å –º–æ–µ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏! üÜî",
        "–°–ø–∞—Å–∏–±–æ! –ö–∞–∂–¥—ã–π –ª–∞–π–∫ ‚Äî —ç—Ç–æ —à–∞–≥ –æ—Ç '–Ω–∞—á–∏–Ω–∞—é—â–∏–π –±–ª–æ–≥–µ—Ä' –∫ '–≤–ª–∏—è—Ç–µ–ª—å–Ω—ã–π –∞–≤—Ç–æ—Ä'! üöÄ",
        "–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ! –ï—â—ë –æ–¥–Ω–∞ —Ç–æ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —è –Ω–µ –∑—Ä—è —Ç—Ä–∞—á—É –≤—Ä–µ–º—è! ‚è±Ô∏è",
        "–¢–≤–æ–π —Ñ–∏–¥–±—ç–∫ ‚Äî —ç—Ç–æ –∫–∞–∫ —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω. –†–∞–¥—É—é—Å—å! üéâ",
        "–°–ø–∞—Å–∏–±–æ! –¢–µ–ø–µ—Ä—å —É –º–µ–Ω—è –µ—Å—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ, —á—Ç–æ —è –Ω–µ –ø–∏—à—É –ø–æ–ª–Ω—É—é –∞—Ö–∏–Ω–µ—é! ‚úÖ",
        "–û, –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π –æ—Ç–∫–ª–∏–∫! –ò–¥—É –æ—Ç–º–µ—á–∞—Ç—å –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ: —Å–µ–≥–æ–¥–Ω—è —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å! üìÖ",
        "–¢–≤–æ—è –æ—Ü–µ–Ω–∫–∞ –ø–æ–≤—ã—Å–∏–ª–∞ –º–æ–π —Ä–µ–π—Ç–∏–Ω–≥ –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥–ª–∞–∑–∞—Ö. –°–ø–∞—Å–∏–±–æ! ‚≠ê"
    ];

    const noMessages = [
        "–û–∫–µ–π, –Ω–µ –∑–∞—à–ª–æ. –ü–æ–π–¥—É –¥—É–º–∞—Ç—å –æ —Å–º—ã—Å–ª–µ –∂–∏–∑–Ω–∏ –∏ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—å–∏... ü§î",
        "–ü–æ–Ω—è–ª, –ø—Ä–∏–Ω—è–ª, –∑–∞–ø–∏—Å–∞–ª –Ω–∞ —Å–∞–ª—Ñ–µ—Ç–∫–µ. –ë—É–¥—É —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Å–æ–±–æ–π! üìù",
        "–ù—É –æ–∫, –Ω–µ –ø—Ä–æ–∫–∞—Ç–∏–ª–æ. –ó–∞—Ç–æ —Ç–µ–ø–µ—Ä—å –∑–Ω–∞—é, —á—Ç–æ –Ω–µ –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å! üö´",
        "–ß–µ—Å—Ç–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –∫—Ä—É—Ç–æ! –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –Ω–µ –º–æ–ª—á–∏—à—å, –∫–∞–∫ –æ—Å—Ç–∞–ª—å–Ω—ã–µ 99%! üí¨",
        "–ü—Ä–∏–Ω—è–ª –∫ —Å–≤–µ–¥–µ–Ω–∏—é. –ü–æ–π–¥—É –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏–≤–∞—Ç—å —Å–≤–æ–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä... ü§∑",
        "–û–∫, –∫—Ä–∏—Ç–∏–∫—É –ø—Ä–∏–Ω—è–ª. –¢–µ–ø–µ—Ä—å –±—É–¥—É —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Å—Ç–∞—Ç—å—è–º–∏ –∫–∞–∫ –ø—Ä–æ–∫–ª—è—Ç—ã–π! üíª",
        "–°–ø–∞—Å–∏–±–æ –∑–∞ —Ñ–∏–¥–±—ç–∫! –ë–µ–∑ —Ç–∞–∫–∏—Ö –∫–∞–∫ —Ç—ã —è –±—ã –∑–∞—Å—Ç—Ä—è–ª –≤ —ç—Ö–æ-–∫–∞–º–µ—Ä–µ! üîä",
        "–ü–æ–Ω—è–ª —Ç–µ–±—è, –±—Ä–∞—Ç–∞–Ω. –£—á—Ç—É –Ω–∞ –±—É–¥—É—â–µ–µ. –ú–æ–∂–µ—Ç –±—ã—Ç—å. ü§∑‚Äç‚ôÇÔ∏è",
        "–ù–µ –∑–∞—à–ª–æ ‚Äî –æ–∫–µ–π, –Ω–µ —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ. –ü—Ä–æ–¥–æ–ª–∂–∞—é —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã! üß™",
        "–°–ø–∞—Å–∏–±–æ –∑–∞ —á–µ—Å—Ç–Ω–æ—Å—Ç—å! –ö—Ä–∏—Ç–∏–∫–∞ ‚Äî —ç—Ç–æ –∫–∞–∫ –∫–æ–º–º–∏—Ç –±–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è: –ø–æ–ª–µ–∑–Ω–æ, –Ω–æ –±–æ–ª—å–Ω–æ! üòÖ",
        "–û–∫–µ–π, –Ω–µ –∑–∞—à–ª–æ. –ü–æ–π–¥—É –≤ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é –∏ –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏! üîÑ",
        "–ü–æ–Ω—è–ª, –ø—Ä–∏–Ω—è–ª –∫ —Å–≤–µ–¥–µ–Ω–∏—é. –ö—Ä–∏—Ç–∏–∫–∞ ‚Äî —ç—Ç–æ –∫–∞–∫ –∫–æ–¥-—Ä–µ–≤—å—é: –±–æ–ª—å–Ω–æ, –Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç! üë®‚Äçüíª",
        "–ù—É –æ–∫, –Ω–µ –ø—Ä–æ–∫–∞—Ç–∏–ª–æ. –ó–∞—Ç–æ —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üß™",
        "–ß–µ—Å—Ç–Ω–æ—Å—Ç—å —Ü–µ–Ω–∏—Ç—Å—è! –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –Ω–µ –ø—Ä–æ—à—ë–ª –º–∏–º–æ, –∫–∞–∫ –¥—Ä—É–≥–∏–µ 95%! üìä",
        "–ü—Ä–∏–Ω—è–ª —Ñ–∏–¥–±—ç–∫. –ò–¥—É –¥–µ–ª–∞—Ç—å —Ä–µ—Ç—Ä–∞–∫-—Å—Ç–∞—Ç—å—é –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏! üîß",
        "–û–∫, –Ω–µ –∑–∞—à–ª–æ. –ó–Ω–∞—á–∏—Ç, –Ω—É–∂–Ω–æ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ —É–ª—É—á—à–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç! üîÅ",
        "–°–ø–∞—Å–∏–±–æ! –¢–≤–æ—è –∫—Ä–∏—Ç–∏–∫–∞ ‚Äî —ç—Ç–æ –∫–∞–∫ –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç: –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ! üêõ",
        "–ü–æ–Ω—è–ª —Ç–µ–±—è. –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ñ–∏–¥–±—ç–∫ ‚Äî —ç—Ç–æ —Ç–æ–∂–µ —Ñ–∏–¥–±—ç–∫. –£—á—Ç—É! üìâ",
        "–ù–µ –∑–∞—à–ª–æ? –û–∫–µ–π, –∑–Ω–∞—á–∏—Ç –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å pivot –≤ –∫–æ–Ω—Ç–µ–Ω—Ç-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏! üîÄ",
        "–°–ø–∞—Å–∏–±–æ –∑–∞ —á–µ—Å—Ç–Ω–æ—Å—Ç—å! –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —ç—Ç–æ —Ç–æ–∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç! üìâ"
    ];

    const commentMessages = [
        "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–∏–Ω—è—Ç! –ò–¥—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–≤–æ–∏ –º—ã—Å–ª–∏ –≤ async —Ä–µ–∂–∏–º–µ! ‚öôÔ∏è",
        "–°–ø–∞—Å–∏–±–æ! –¢–≤–æ–π —Ñ–∏–¥–±—ç–∫ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –æ—á–µ—Ä–µ–¥—å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É. –û–±—Ä–∞–±–æ—Ç–∞—é –≤ free time! üì•",
        "–§–∏–¥–±—ç–∫ –ø–æ–ª—É—á–µ–Ω, –æ–±—Ä–∞–±–æ—Ç–∞–Ω, —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –ë–î. –°–∫–æ—Ä–æ –ø—Ä–æ—á–∏—Ç–∞—é –∏ –ø–æ–¥—É–º–∞—é –Ω–∞–¥ –æ—Ç–≤–µ—Ç–æ–º! üíæ",
        "–û–∫–µ–π, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∑–∞–ø–∏—Å–∞–Ω. –ò–¥—É –¥–µ–ª–∞—Ç—å –≤–∏–¥, —á—Ç–æ —è –µ–≥–æ –ø—Ä–æ—á–∏—Ç–∞–ª –∏ –æ–±–¥—É–º–∞–ª! üß†",
        "–°–ø–∞—Å–∏–±–æ! –¢–≤–æ—ë –º–Ω–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —á–∞—Å—Ç—å –º–æ–µ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞. –ë—É–¥—É –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å! üìä",
        "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω! –ò–¥—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤ —Ñ–æ–Ω–µ, –∫–∞–∫ —Ö–æ—Ä–æ—à–∏–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥! üîÑ",
        "–°–ø–∞—Å–∏–±–æ! –¢–≤–æ–∏ –º—ã—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±—ç–∫–ª–æ–≥. –°–∫–æ—Ä–æ –≤–æ–∑—å–º—É –≤ —Ä–∞–±–æ—Ç—É! üìã",
        "–§–∏–¥–±—ç–∫ –ø–æ–ª—É—á–µ–Ω –∏ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—É—é –æ—á–µ—Ä–µ–¥—å. –û–±—Ä–∞–±–æ—Ç–∞—é ASAP! ‚è∞",
        "–û–∫–µ–π, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ—Ö—Ä–∞–Ω—ë–Ω. –¢–µ–ø–µ—Ä—å —É –º–µ–Ω—è –µ—Å—Ç—å –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –Ω–∞ –≤–µ—á–µ—Ä! ‚úÖ",
        "–°–ø–∞—Å–∏–±–æ! –¢–≤–æ–π —Ç–µ–∫—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –º–æ—é –∫–æ–ª–ª–µ–∫—Ü–∏—é '—á—Ç–æ –¥—É–º–∞—é—Ç —á–∏—Ç–∞—Ç–µ–ª–∏'! üìö",
        "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–∏–Ω—è—Ç –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ! –ò–¥—É –¥–µ–ª–∞—Ç—å code review —Ç–≤–æ–µ–≥–æ –º–Ω–µ–Ω–∏—è! üëÄ",
        "–§–∏–¥–±—ç–∫ –ø–æ–ª—É—á–µ–Ω! –¢–≤–æ–∏ —Å–ª–æ–≤–∞ —Ç–µ–ø–µ—Ä—å –≤ –º–æ–µ–π –ë–î, –±—É–¥—É –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –Ω–∏–º! üóÑÔ∏è",
        "–°–ø–∞—Å–∏–±–æ! –¢–≤–æ—ë –º–Ω–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –∫—ç—à–µ –º–æ–µ–π –ø–∞–º—è—Ç–∏. –°–∫–æ—Ä–æ –ø—Ä–æ—á–∏—Ç–∞—é! üß†",
        "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω! –ò–¥—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ –≤–∞–∂–Ω—ã–π event –≤ —Å–∏—Å—Ç–µ–º–µ! üìù",
        "–û–∫–µ–π, —Ñ–∏–¥–±—ç–∫ –¥–æ–±–∞–≤–ª–µ–Ω –≤ pipeline. –°–∫–æ—Ä–æ –ø—Ä–æ–π–¥—ë—Ç —á–µ—Ä–µ–∑ –º–æ–∏ –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏! üß¨"
    ];

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ "–î–∞" –∏–ª–∏ "–ù–µ—Ç" - —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –≤ —Ñ–æ–Ω–µ
    $('#feedback-yesBtn, #feedback-noBtn').on('click', function () {
        selectedFeedbackType = $(this).data('feedback');
        $('#selectedFeedback').val(selectedFeedbackType);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–¥–∞–ª–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
        let modalTitle = '';
        if (selectedFeedbackType === 'yes') {
            modalTitle = '–°—Ç–∞—Ç—å—è –±—ã–ª–∞ –ø–æ–ª–µ–∑–Ω–∞! üíö';
        } else if (selectedFeedbackType === 'no') {
            modalTitle = '–°—Ç–∞—Ç—å—è –Ω–µ –∑–∞—à–ª–∞ üòî';
        }
        $('#feedbackModalLabel').text(modalTitle);
        
        // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
        $('#feedbackComment').val('');
        $('#feedbackModalMessage').addClass('d-none').removeClass('alert-success alert-danger');
        
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É —Å—Ä–∞–∑—É
        $('#feedbackModal').modal('show');
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ñ–æ–Ω–µ (–Ω–µ –∂–¥–µ–º –æ—Ç–≤–µ—Ç–∞)
        sendFeedbackOnly(postId, selectedFeedbackType);
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" - —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
    $('#feedback-commentBtn').on('click', function () {
        selectedFeedbackType = 'comment';
        $('#selectedFeedback').val(selectedFeedbackType);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–¥–∞–ª–∫–∏
        $('#feedbackModalLabel').text('–û—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π üí¨');
        
        // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
        $('#feedbackComment').val('');
        $('#feedbackModalMessage').addClass('d-none').removeClass('alert-success alert-danger');
        
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
        $('#feedbackModal').modal('show');
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –≤ –º–æ–¥–∞–ª–∫–µ
    $('#sendFeedbackBtn').on('click', function () {
        const comment = $('#feedbackComment').val().trim();
        const messageDiv = $('#feedbackModalMessage');
        const sendBtn = $(this);

        // –ï—Å–ª–∏ —ç—Ç–æ "–î–∞" –∏–ª–∏ "–ù–µ—Ç" - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ—Ç–≤–µ—Ç —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω)
        // –ï—Å–ª–∏ —ç—Ç–æ "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–∏–ø –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤–º–µ—Å—Ç–µ
        if (selectedFeedbackType === 'yes' || selectedFeedbackType === 'no') {
            sendCommentOnly(postId, comment, messageDiv, sendBtn);
        } else if (selectedFeedbackType === 'comment') {
            sendFeedback(postId, selectedFeedbackType, comment, messageDiv, sendBtn);
        }
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter+Ctrl/Cmd –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
    $('#feedbackComment').on('keydown', function (e) {
        if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
            e.preventDefault();
            $('#sendFeedbackBtn').click();
        }
    });

    // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏
    $('#feedbackModal').on('hidden.bs.modal', function () {
        $('#feedbackComment').val('');
        $('#feedbackModalMessage').addClass('d-none').removeClass('alert-success alert-danger');
        $('#sendFeedbackBtn').prop('disabled', false).text('–û—Ç–ø—Ä–∞–≤–∏—Ç—å');
        
        // –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç —É–∂–µ –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω ("–î–∞"/"–ù–µ—Ç"), —Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
        if (feedbackSent && (selectedFeedbackType === 'yes' || selectedFeedbackType === 'no')) {
            hideFeedbackButtons();
            feedbackSent = false; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥
        }
    });

    // –§–ª–∞–≥, —á—Ç–æ –æ—Ç–≤–µ—Ç —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω (–¥–ª—è "–î–∞"/"–ù–µ—Ç")
    let feedbackSent = false;

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–∞ (–î–∞/–ù–µ—Ç) –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ñ–æ–Ω–µ
    function sendFeedbackOnly(postId, feedback) {
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è UI
        $.ajax({
            url: feedbackData.ajax_url,
            type: 'POST',
            data: {
                action: 'save_feedback',
                post_id: postId,
                feedback: feedback,
                comment: '' // –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
            },
            success: function (response) {
                if (response.success) {
                    feedbackSent = true; // –ü–æ–º–µ—á–∞–µ–º, —á—Ç–æ –æ—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
                } else {
                    // –¢–∏—Ö–æ –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
                    console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ feedback:', response.data);
                }
            },
            error: function (xhr, status, error) {
                // –¢–∏—Ö–æ –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ feedback:', error);
            }
        });
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–æ—Ç–≤–µ—Ç —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω)
    function sendCommentOnly(postId, comment, messageDiv, sendBtn) {
        sendBtn.prop('disabled', true).text('–û—Ç–ø—Ä–∞–≤–∫–∞...');
        messageDiv.addClass('d-none');

        // –ï—Å–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—É—Å—Ç–æ–π, –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
        if (!comment) {
            $('#feedbackModal').modal('hide');
            hideFeedbackButtons();
            return;
        }

        $.ajax({
            url: feedbackData.ajax_url,
            type: 'POST',
            data: {
                action: 'save_feedback_comment',
                post_id: postId,
                comment: comment
            },
            success: function (response) {
                if (response.success) {
                    messageDiv.removeClass('d-none alert-danger').addClass('alert-success');
                    messageDiv.text('–°–ø–∞—Å–∏–±–æ –∑–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π!');

                    setTimeout(function () {
                        $('#feedbackModal').modal('hide');
                        hideFeedbackButtons();
                    }, 1500);
                } else {
                    messageDiv.removeClass('d-none alert-success').addClass('alert-danger');
                    messageDiv.text(response.data || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                    sendBtn.prop('disabled', false).text('–û—Ç–ø—Ä–∞–≤–∏—Ç—å');
                }
            },
            error: function () {
                messageDiv.removeClass('d-none alert-success').addClass('alert-danger');
                messageDiv.text('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                sendBtn.prop('disabled', false).text('–û—Ç–ø—Ä–∞–≤–∏—Ç—å');
            }
        });
    }

    // –§—É–Ω–∫—Ü–∏—è —Å–∫—Ä—ã—Ç–∏—è –∫–Ω–æ–ø–æ–∫ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
    function hideFeedbackButtons() {
        // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Ñ—Ä–∞–∑—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ç–≤–µ—Ç–∞
        let randomMessage;
        if (selectedFeedbackType === 'yes') {
            randomMessage = yesMessages[Math.floor(Math.random() * yesMessages.length)];
        } else if (selectedFeedbackType === 'no') {
            randomMessage = noMessages[Math.floor(Math.random() * noMessages.length)];
        } else {
            randomMessage = commentMessages[Math.floor(Math.random() * commentMessages.length)];
        }
        
        $('#feedback-message').text(randomMessage);
        $('#feedback-yesBtn').hide();
        $('#feedback-noBtn').hide();
        $('#feedback-commentBtn').hide();
        $('#feedback-title').hide();
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–¥–ª—è —Ç–∏–ø–∞ "comment" –∏–ª–∏ –æ–±—â–∞—è)
    function sendFeedback(postId, feedback, comment, messageDiv, sendBtn) {
        sendBtn.prop('disabled', true).text('–û—Ç–ø—Ä–∞–≤–∫–∞...');
        messageDiv.addClass('d-none');

        $.ajax({
            url: feedbackData.ajax_url,
            type: 'POST',
            data: {
                action: 'save_feedback',
                post_id: postId,
                feedback: feedback,
                comment: comment
            },
            success: function (response) {
                if (response.success) {
                    // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Ñ—Ä–∞–∑—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ç–≤–µ—Ç–∞
                    let randomMessage;
                    if (feedback === 'yes') {
                        randomMessage = yesMessages[Math.floor(Math.random() * yesMessages.length)];
                    } else if (feedback === 'no') {
                        randomMessage = noMessages[Math.floor(Math.random() * noMessages.length)];
                    } else {
                        randomMessage = commentMessages[Math.floor(Math.random() * commentMessages.length)];
                    }

                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ –≤ –º–æ–¥–∞–ª–∫–µ
                    messageDiv.removeClass('d-none alert-danger').addClass('alert-success');
                    messageDiv.text('–°–ø–∞—Å–∏–±–æ! –¢–≤–æ–π –æ—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω.');

                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
                    setTimeout(function () {
                        $('#feedbackModal').modal('hide');
                        hideFeedbackButtons();
                    }, 1500);
                } else {
                    messageDiv.removeClass('d-none alert-success').addClass('alert-danger');
                    messageDiv.text(response.data || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                    sendBtn.prop('disabled', false).text('–û—Ç–ø—Ä–∞–≤–∏—Ç—å');
                }
            },
            error: function () {
                messageDiv.removeClass('d-none alert-success').addClass('alert-danger');
                messageDiv.text('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                sendBtn.prop('disabled', false).text('–û—Ç–ø—Ä–∞–≤–∏—Ç—å');
            }
        });
    }
});